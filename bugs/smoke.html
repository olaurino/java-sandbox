<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-10-20 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20151020" />
    <meta http-equiv="Content-Language" content="en" />
    <title>java-sandbox &#x2013; <a name="top"></a>Installation Troubleshooting</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
        
    
        
    <a href="https://github.com/olaurino/sandbox">
      <img style="position: absolute; top: 0; left: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../" id="bannerLeft">
                                                                                                <img src="../imgs/Iris_logo_padding.png"  alt="Chandra CXC"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-10-20
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0-SNAPSHOT
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
                      <a href="http://cxc.cfa.harvard.edu" class="externalLink" title="Chandra CXC">
        Chandra CXC</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Iris</li>
                              
      <li>
  
                          <a href="../index.html" title="Homepage">
          <span class="none"></span>
        Homepage</a>
            </li>
                              <li class="nav-header">Introduction</li>
                              
      <li>
  
                          <a href="../intro/index.html" title="About">
          <span class="none"></span>
        About</a>
            </li>
                
      <li>
  
                          <a href="../intro/features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                
      <li>
  
                          <a href="../intro/future.html" title="Future">
          <span class="none"></span>
        Future</a>
            </li>
                              <li class="nav-header">Download Iris</li>
                              
      <li>
  
                          <a href="../download/index.html" title="Download & Installation">
          <span class="none"></span>
        Download & Installation</a>
            </li>
                
      <li>
  
                          <a href="../download/smoke_tests.html" title="Smoke Test">
          <span class="none"></span>
        Smoke Test</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Troubleshooting</a>
          </li>
                              <li class="nav-header">Documentation</li>
                                                                                                                                                                                                                                
      <li>
  
                          <a href="../guide.html" title="How-To Guide">
          <span class="icon-chevron-right"></span>
        How-To Guide</a>
                  </li>
                
      <li>
  
                          <a href="../bugs/index.html" title="Bugs & Caveats">
          <span class="none"></span>
        Bugs & Caveats</a>
            </li>
                
      <li>
  
                          <a href="../faq/index.html" title="FAQs">
          <span class="none"></span>
        FAQs</a>
            </li>
                
      <li>
  
                          <a href="../releasenotes/index.html" title="Release Notes">
          <span class="none"></span>
        Release Notes</a>
            </li>
                              <li class="nav-header">References</li>
                              
      <li>
  
                          <a href="../references/models.html" title="Iris Models">
          <span class="none"></span>
        Iris Models</a>
            </li>
                
      <li>
  
                          <a href="../references/importer_files.html" title="Supported File Formats">
          <span class="none"></span>
        Supported File Formats</a>
            </li>
                
      <li>
  
                          <a href="../publications/index.html" title="Publications">
          <span class="none"></span>
        Publications</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                            
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                  
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="http://olaurino.github.io/java-sandbox/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1><a name="top"></a>Installation Troubleshooting</h1>
<p>The following is a list of known issues that may arise while installing or attempting to run Iris. If you encounter a problem that is not listed here, first check for it on the <a href="../bugs/index.html" title="Bugs and Caveats">Iris Bugs &amp; Caveats page</a>, and then contact the <a href="/helpdesk/" title="CXC HelpDesk">CXC Helpdesk</a> for assistance, if necessary. It is recommended that you include in your bug report the results of the [Iris installation smoke test][smoke].</p>
<hr />
<p><a href="#java_version">I do not have the Java version required to run Iris.</a></p>
<p><a href="#forcequit">I exited Iris with a Force Quit or &#x2018;kill&#x2019; command; now, it does not run properly.</a></p>
<p><a href="#libgcc_missing">(OS X) Smoke tests fail with &#x201c;Error: Sherpa didn&#x2019;t respond to ping.&#x201d;</a></p>
<hr />
<div class="section">
<div class="section">
<h3><a name="I_do_not_have_the_Java_version_required_to_run_Iris."></a><a name="java_version"></a>I do not have the Java version required to run Iris.</h3>
<p>When you run the Iris startup command, the application does not open; the SED Importer startup command fails with an error message. This likely indicates that you do not have the minimum required Java version on your system to run the Iris application; or you do, but your global &#x2018;path&#x2019; variable points to an older Java version which coexists on your system with the up-to-date one. In the case of the former, you should upgrade to at least Java SE 6 (version 1.6) by following the installation instructions for the Java Runtime Environment (JRE) specific to your computer platform, on the <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/index-137561.html" title="Oracle">Oracle website</a>.</p>
<p>In the case of the latter, first check to see if your path points to an older version of Java on your system; if so, contact your systems administrator to find out if a newer version of Java is available elsewhere on your system.</p>
<p>For example, the output below shows that the global path variable is pointed to a directory containing an outdated version of Java.</p>

<div class="source">
<div class="source"><pre class="prettyprint">% which java
/usr/bin/java

% java -version
java version &quot;1.4.2&quot;
gij (GNU libgcj) version 4.1.2 20080704 (Red Hat 4.1.2-50)
</pre></div></div>
<p>Checking <tt>/usr/local/bin</tt>, however, reveals that an up-to-date Java version coexists on the system with the older version:</p>

<div class="source">
<div class="source"><pre class="prettyprint">% /usr/local/bin/java -version
java version &quot;1.6.0_24&quot;
Java(TM) SE Runtime Environment (build 1.6.0_24-b07)
Java HotSpot(TM) Server VM (build 19.1-b02, mixed mode)
</pre></div></div>
<p>Editing the global path variable so that the directory containing Java SE 6 is searched before the directory containing the older version, will allow Iris to properly install.</p>

<div class="source">
<div class="source"><pre class="prettyprint">% set path = (/usr/local/bin $path)

% Iris &amp;
</pre></div></div>
<p>Adding the &#x201c;set path &#x2026;&#x201d; line shown above to your user preferences file for the shell, e.g. <tt>$HOME/.cshrc.user</tt> or <tt>$HOME/.cshrc</tt> for the tcsh shell or <tt>$HOME/.bashrc</tt> or <tt>$HOME/.bash_profile</tt> for bash shell, will make this change permanent; running it in the terminal window will alter the path only temporarily, i.e., for that particular terminal session.</p></div>
<div class="section">
<h3><a name="I_exited_Iris_with_a_Force_Quit_or_kill_command_now_it_does_not_run_properly."></a><a name="forcequit"></a>I exited Iris with a Force Quit or &#x2018;kill&#x2019; command; now it does not run properly.</h3>
<p>If the Iris application is killed off either by Force Quit (on Linux or Mac) or the &#x2018;kill&#x2019; command, as opposed to the Iris &#x201c;File -&gt; Exit&#x201d; menu option, the Sherpa program may survive as a spurious Python process. As a result, the next time you try to use Iris, it may not work properly. To remedy the problem, you can end the spurious process using &#x2018;ps&#x2019; and &#x2018;kill&#x2019; or using System Monitor. The process name should appear as something like &#x2018;python2.7&#x2019;.</p>
<p>This occurs because Iris is responsible for starting and stopping the Sherpa Python process. If Iris is killed without executing its usual shutdown procedure, Sherpa could be left running. Since Iris uses SAMP to communicate, the spurious Sherpa process can conflict with Iris when it tries to establish a new connection.</p>
<p>You can also confirm the issue by inspecting the Iris log file located in your home directory, <tt>$HOME/.vao/iris/log.txt</tt> (or wherever your <tt>$IRIS_LOG_LOCATION</tt> points too), which should contain an error message indicating the problem.</p></div>
<div class="section">
<h3><a name="Smoke_tests_fail_with_Error:_Sherpa_didnt_respond_to_ping"></a><a name="libgcc_missing"></a>Smoke tests fail with &#x201c;Error: Sherpa didn&#x2019;t respond to ping&#x201d;</h3>
<p>If you get this error, first try running the smoke tests with a longer timeout period, as we do below:</p>

<div class="source">
<div class="source"><pre class="prettyprint">% iris smoketest 30
</pre></div></div>
<p>This should allow enough time for Sherpa to respond to the ping, and for the test to pass.</p>
<p>If the tests still fail, check to see if you have <tt>/usr/local/lib/libgcc_s.1.dylib</tt> on your system:</p>

<div class="source">
<div class="source"><pre class="prettyprint">% ls /usr/local/lib/libgcc_s.1.dylib
</pre></div></div>
<p>If the file doesn&#x2019;t exist, (if it returns something like &#x201c;<tt>ls: cannot access /usr/local/lib/libgcc_s.1.dylib: No such file or directory</tt>&#x201d;), then search for your system&#x2019;s <tt>libgcc\_s.1.dylib</tt> library, create a softlink to this directory, and rerun the smoketests:</p>

<div class="source">
<div class="source"><pre class="prettyprint">% python -c &quot;import time; print time.__file__&quot;

/anaconda/lib/python2.7/lib-dynload/time.so              # Your result may vary

% otool -L /anaconda/lib/python2.7/lib-dynload/time.so   # Take your result from above and run 'otool -L &lt;result&gt;'

/anaconda/lib/python2.7/lib-dynload/time.so:
/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0) # create softlink to this file
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.0.0)

% sudo ln -s /usr/lib/libgcc_s.1.dylib /usr/local/lib/libgcc_s.1.dylib
</pre></div></div>
<p>This will ask you for your password. Type it in when it asks.</p>
<p>If you don&#x2019;t have a <tt>/usr/local/lib directory</tt>, make it:</p>

<div class="source">
<div class="source"><pre class="prettyprint">% sudo mkdir /usr/local/lib
</pre></div></div>
<p>Then try creating the softlink, and rerunning the smoketests.</p>
<p>If you&#x2019;re still having issues, please contact us at the <a href="/helpdesk/" title="CXC HelpDesk">CXC HelpDesk</a> with the tag &#x201c;Iris.&#x201d;</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th align="right"> </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="right">[<a href="#top">Back to top</a>]</td>
    </tr>
  </tbody>
</table>
<!-- external links -->
<!-- threads -->
<!-- reference files -->
<!-- CXC links -->
<!-- Navigation --></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2015.
          All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
